#!/bin/sh -e

root=`cd \`dirname $0\`/..; pwd`
experiment=$root/rhythmbox
analysis=$experiment/analysis
rm -rf $analysis
mkdir $analysis
cd $analysis

#time=/usr/bin/time

$time $root/bin/analyze-runs --do=process-labels --runs-directory=$experiment/data
$time $root/bin/analyze-runs --do=map-sites --runs-directory=$experiment/data --sites-text=$experiment/share/rhythmbox.sites
$time $root/bin/analyze-runs --do=convert-reports --runs-directory=$experiment/data
$time $root/bin/analyze-runs --do=compute-results --runs-directory=$experiment/data
$time $root/bin/analyze-runs --do=print-results-1
$time $root/bin/analyze-runs --do=print-summary --source-directory=$experiment/src

# the above was an illustration of how to use analyze-runs to perform specific tasks.
# usually, you should use it as follows:
#$root/bin/analyze-runs --do=process-labels,map-sites,convert-reports,compute-results,print-results-1,print-summary --runs-directory=$experiment/data --sites-text=$experiment/share/rhythmbox.sites --source-directory=$experiment/src
